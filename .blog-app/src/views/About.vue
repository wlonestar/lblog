<template>
  <div>
    <el-card>
      <p style="margin: 10px 20px 20px 20px;">æ—¶é—´çº¿</p>
      <el-timeline style="margin: 20px 20px 10px 20px;">
        <el-timeline-item v-for="idea in ideas.slice(0, 5)" :key="idea" :timestamp="new Date(idea.createTime).toLocaleString()" placement="top">
          <el-card><p>{{ idea.content }}</p></el-card>
        </el-timeline-item>
      </el-timeline>
    </el-card>
    <el-card style="margin-top: 30px;">
      <div class="markdown-body" v-html="me" style="margin: 20px 20px;"></div>
    </el-card>
    <el-card style="margin-top: 30px;">
      <div class="markdown-body" v-html="content" style="margin: 20px 20px;"></div>
    </el-card>
  </div>
</template>

<script>
import { getAllIdea } from '../api/idea'

export default {
  name: 'About',
  data () {
    return {
      ideas: [],
      me: '## å…³äºŽæˆ‘ðŸ‘¨â€ðŸ’»\n' +
        '\n' +
        '- åŠä¸ªæŠ€æœ¯å®…ðŸ˜Ž\n' +
        '- å–œæ¬¢å°è¯•æ–°äº‹ç‰©ï¼Œæƒ³æ³•å¾ˆå¤š\n' +
        '- è®¡ç®—æœºä¸“ä¸šåœ¨è¯»\n' +
        '- ç›®å‰å¯¹åŽç«¯å¼€å‘æ„Ÿå…´è¶£\n' +
        '- Java åœ¨å­¦\n' +
        '- ä¸ºäº†æž„å»ºå®Œæ•´ web åº”ç”¨è¿˜å‡†å¤‡å­¦å‰ç«¯â„¢\n' +
        '- å®¡ç¾Žåœ¨çº¿ï¼Œå¶å°”ç”»ç”»\n' +
        '- ä¸æƒ³æˆä¸ºç©¿æ ¼å­è¡«çš„ç¨‹åºå‘˜ðŸ˜™\n' +
        '\n' +
        '\n' +
        '\n' +
        'GitHubï¼š[wjl-lab](https://github.com/wjl-lab)\n' +
        '\n' +
        'Bilibiliï¼š[-lonestar-](https://space.bilibili.com/433694656)\n' +
        '\n',
      content: '# Lblog\n' + '\n' +
        'Springboot + Vue å‰åŽç«¯åˆ†ç¦»ä¸ªäººåšå®¢é¡¹ç›®\n' + '\n' +
        'åŽç«¯æŠ€æœ¯ï¼š\n' + '\n' +
        '- SpringBoot\n' + '\n' +
        '- Spring Data JPA\n' + '\n' +
        '- Sa-token\n' + '\n' +
        '- hu-tool\n' + '\n' +
        '- smart-doc\n' + '\n' +
        'å‰ç«¯æŠ€æœ¯ï¼š\n' + '\n' +
        '- Vue3\n' + '\n' +
        '- axios\n' + '\n' +
        '- markdown-it\n' + '\n' +
        '- element-plus\n' + '\n' +
        '- @element-plus/icons\n' + '\n' +
        '- md-editor-v3\n' + '\n' +
        '- github-markdown-css\n' + '\n' +
        '- Font Awesome\n' + '\n' +
        '## Install\n' + '\n' +
        '```shell\n' +
        'git clone https://github.com/wjl-lab/lblog\n' +
        '```\n' + '\n' +
        '## Usage\n' + '\n' +
        '- æ•°æ®åº“\n' + '\n' +
        'åˆ›å»º `lblog` æ•°æ®åº“ï¼Œä¿®æ”¹ `yml` é…ç½®æ–‡ä»¶ï¼Œè¡¨ä¼šåœ¨é¡¹ç›®å¯åŠ¨æ—¶è‡ªåŠ¨ç”Ÿæˆ\n' + '\n' +
        'æ³¨æ„ä¿®æ”¹ article çš„ content å­—æ®µä¸º `longtext` ç±»åž‹\n' + '\n' +
        '- åŽç«¯\n' + '\n' +
        '```shell\n' +
        '$ cd blog-server\n' +
        '$ mvn clean package\n' +
        '$ cd target\n' +
        '$ java -jar lblog-0.0.1.jar\n' +
        '```\n' + '\n' +
        '- åšå®¢é¡µé¢\n' + '\n' +
        '```shell\n' +
        '$ cd blog-app\n' +
        '$ npm install\n' +
        '$ npm run serve\n' +
        '```\n' + '\n' +
        '- åšå®¢åŽå°ç®¡ç†\n' + '\n' +
        '```shell\n' +
        '$ cd blog-admin\n' +
        '$ npm install\n' +
        '$ npm run serve\n' +
        '```\n' + '\n' +
        '## API\n' + '\n' +
        '```\n' +
        'https://wangjialei.xyz/lblog\n' +
        '```\n' + '\n' +
        '## Todo\n' + '\n' +
        '1. å‰ç«¯é¡µé¢ä¸æ˜¯å“åº”å¼å¸ƒå±€ï¼Œéœ€è¦ä¿®æ”¹\n' + '\n' +
        '2. ~~æ–‡ç« è¯¦æƒ…é¡µæ²¡æœ‰ä»£ç é«˜äº®ï¼Œå¸ƒå±€ä¸‘é™‹~~\n' + '\n' +
        '3. ~~ç™»å½•å¯†ç æœªåŠ å¯†ï¼Œæ˜Žæ–‡å­˜å‚¨åœ¨æ•°æ®åº“~~\n' + '\n' +
        '4. ~~å›¾ç‰‡ä¸Šä¼ åŽå›¾ç‰‡åœ¨æœåŠ¡å™¨ä¸­çš„è·¯å¾„æ˜¾ç¤ºæ–¹å¼ä¸æ–¹ä¾¿å¤åˆ¶~~\n' + '\n' +
        '5. ~~å…³äºŽé¡µé¢éœ€è¦å®Œå–„å†…å®¹ï¼ŒåŠ ä¸Šå¼€å‘è¿›å±•æ—¶é—´çº¿~~\n' + '\n' +
        '6. ~~README è¿˜éœ€è¦å®Œå–„~~\n' + '\n' +
        '7. æ–‡ç« ã€åˆ†ç±»åˆ†é¡µåŠŸèƒ½å°é—®é¢˜\n' + '\n' +
        '## Contributing\n' + '\n' +
        'PRs accepted.\n' + '\n' +
        '## License\n' + '\n' +
        '[GPL-3.0](LICENSE) Â© wjl\n' + '\n'
    }
  },
  created () {
    this.load()
    this.m2h()
    this.md()
  },
  methods: {
    load () {
      getAllIdea().then(data => {
        this.ideas = data.data.data.reverse()
      })
    },
    m2h () {
      const hljs = require('highlight.js')
      const md = require('markdown-it')({
        highlight (str, lang) {
          if (lang && hljs.getLanguage(lang)) {
            try {
              return hljs.highlight(lang, str).value
            } catch (__) {}
          }
          return ''
        }
      })
      this.content = md.render(this.content)
    },
    md () {
      const hljs = require('highlight.js')
      const md = require('markdown-it')({
        highlight (str, lang) {
          if (lang && hljs.getLanguage(lang)) {
            try {
              return hljs.highlight(lang, str).value
            } catch (__) {}
          }
          return ''
        }
      })
      this.me = md.render(this.me)
    }
  }
}
</script>

<style scoped>

</style>
